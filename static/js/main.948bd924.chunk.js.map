{"version":3,"sources":["GamePage/components/Moves/types.tsx","components/Board.tsx","GamePage/components/GameOver.tsx","model/MazeData.ts","model/Coordinates.ts","components/Grid.tsx","components/Sprite.tsx","GamePage/components/MazeView.tsx","components/StoreContext.ts","GamePage/components/PacManView.tsx","GamePage/components/PacMan.tsx","resources/pacman.gif","GamePage/components/PillsView.tsx","GamePage/components/Score.tsx","GamePage/components/Moves/TranslationForm.tsx","GamePage/components/Moves/ReflectionForm.tsx","GamePage/components/Moves/RotationForm.tsx","GamePage/components/Moves/MoveForm.tsx","GamePage/components/Moves/MovesView.tsx","GamePage/components/GameControls.tsx","GamePage/GamePage.tsx","App.tsx","index.tsx"],"names":["MoveType","DegreeOptions","Board","props","className","GameOver","FRUIT_ID","getLayer","layerName","layer","MapData","layers","find","name","Error","pillsLayer","waysLayer","MAZE_WIDTH_IN_TILES","width","MAZE_HEIGHT_IN_TILES","height","getTileMatrix","data","tileMatrix","Array","dataIndex","ty","tx","tileId","getPillsMatrix","waysMatrix","SCREEN_TILE_SIZE","SPRITE_TILE_SIZE","SCREEN_TILE_CENTER_VECTOR","x","y","isValidTileCoordinates","tile","screenFromTileCoordinate","tileCoordinate","tileFromScreenCoordinate","screenCoordinate","Math","floor","screenFromTile","addCoordinatesAndVector","coordinates","vector","GridWithHoverCoordinates","screenCoordinates","YAxis","ROWS","map","_","i","XAxis","COLUMNS","Grid","style","left","top","gridTemplateColumns","gridTemplateRows","fill","rowIndex","from","length","columnIndex","scale","Sprite","spriteName","C","position","transform","transformOrigin","MazeView","useGameContext","useState","paused","setPaused","gameOver","setGameOver","pills","setPills","score","setScore","moves","setMoves","pause","useCallback","unpause","reset","eatPill","tileCoordinates","prev","pill","points","row","col","defaultState","noop","GameContext","createContext","AxisOptions","DirectionOptions","directions","LEFT","DOWN","RIGHT","UP","pacManScreenFromTile","pacManTileFromScreen","screen","getXTile","getYTile","STARTING_COORDINATES","defaults","rotateY","rotateX","rotateZ","PacManView","memo","useContext","onRest","value","useSpring","styles","api","useEffect","stop","start","to","config","duration","direction","next","a","move","type","TRANSLATION","isNumber","n","coords","push","easing","easeLinear","ROTATION","degrees","Number","every","indexOf","min","abs","easeCubicInOut","REFLECTION","axis","Y","AnimatedPacMan","animated","src","Pill","Energizer","Fruit","id","PillView","PillsView","Score","TranslationForm","onChange","disabled","labelId","useMemo","getShortId","onDirectionChange","e","target","onStepsChange","undefined","FormControl","InputLabel","Select","label","Object","values","t","MenuItem","TextField","isUndefined","InputProps","inputProps","max","step","ReflectionForm","onAxisChange","onNChange","round","X","RotationForm","onDegreesChange","onXChange","onYChange","displayEmpty","MovesForm","handleOnChange","handleOnRemove","onRemove","handleOnAdd","onAdd","ind","onTypeChange","IconButton","color","onClick","RemoveCircle","AddCircle","MovesView","setMovesState","info","slice","key","addMove","go","Button","startIcon","Add","variant","GameControls","open","setOpen","handleOpen","handleClose","Replay","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","GamePage","theme","createTheme","typography","fontFamily","palette","mode","App","ThemeProvider","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.948bd924.chunk.js","sourcesContent":["export enum MoveType {\n  ROTATION = 'Rotation',\n  TRANSLATION = 'Translation',\n  REFLECTION = 'Reflection',\n};\n\nexport enum DegreeOptions {\n  NEG_TWO_SEVENTY = '-270',\n  NEG_ONE_EIGHTY = '-180',\n  NEG_NINTY = '-90',\n  NINTY = '90',\n  ONE_EIGHTY = '180',\n  TWO_SEVENTY = '270',\n}\n\nexport const xOptions = Array.from({ length: 26 }, (_, i) => i + -12);\nexport const yOptions = Array.from({ length: 29 }, (_, i) => i + -14);\n\nexport interface RotationMove {\n  key: string;\n  type?: MoveType.ROTATION,\n  degrees?: DegreeOptions,\n  x?: number;\n  y?: number;\n}\n\nexport enum AxisOptions {\n  X = 'X',\n  Y = 'Y',\n};\n\nexport interface ReflectionMove {\n  key: string;\n  type?: MoveType.REFLECTION,\n  axis?: AxisOptions,\n  n?: number,\n}\n\nexport enum DirectionOptions {\n  UP = 'Up',\n  DOWN = 'Down',\n  LEFT = 'Left',\n  RIGHT = 'Right',\n};\n\nexport interface TranslationMove {\n  key: string;\n  type?: MoveType.TRANSLATION,\n  direction?: DirectionOptions,\n  n?: number,\n}\n\nexport type Move = RotationMove | ReflectionMove | TranslationMove;\n","import { FC } from 'react';\nimport './Board.css';\n\nexport const Board: FC = (props) =>\n  <div className=\"Board\" {...props} />;\n","import React, { FC } from 'react';\nimport './GameOver.css';\n\nexport const GameOver: FC = () => (\n    <span className=\"GameOver\">Game Over</span>\n);\n","import MapData from '../mapData/pacman6.json';\n\nexport type TileId = number;\n\nexport const EMPTY_TILE_ID: TileId = 0;\nexport const BASIC_PILL_ID: TileId = 3533;\nexport const ENERGIZER_ID: TileId = 3589;\nexport const FRUIT_ID: TileId = 10000;\n\nexport const WAY_FREE_ID: TileId = 5240;\nexport const BOX_DOOR_ID: TileId = 5241;\n\nexport type TileMatrix = TileId[][];\n\ninterface Layer {\n  data: number[];\n  width: number;\n  height: number;\n}\n\nconst getLayer = (layerName: string): Layer => {\n  const layer = MapData.layers.find(layer => layer.name === layerName);\n  if (!layer) {\n    throw new Error(`${layerName} layer not found`);\n  }\n  return layer;\n};\n\nconst pillsLayer: Layer = getLayer('Pills');\nconst waysLayer: Layer = getLayer('Ways');\n\nexport const MAZE_WIDTH_IN_TILES = pillsLayer.width;\nexport const MAZE_HEIGHT_IN_TILES = pillsLayer.height;\n\nexport const getTileMatrix = (data: TileId[]): TileMatrix => {\n  const tileMatrix: number[][] = Array(MAZE_HEIGHT_IN_TILES);\n  let dataIndex = 0;\n  for (let ty = 0; ty < MAZE_HEIGHT_IN_TILES; ty++) {\n    tileMatrix[ty] = Array(MAZE_WIDTH_IN_TILES);\n    for (let tx = 0; tx < MAZE_WIDTH_IN_TILES; tx++) {\n      const tileId = data[dataIndex];\n      tileMatrix[ty][tx] = tileId;\n      dataIndex++;\n    }\n  }\n  return tileMatrix;\n};\n\nexport const getPillsMatrix = (): TileMatrix => getTileMatrix(pillsLayer.data);\n\nexport const waysMatrix: TileMatrix = getTileMatrix(waysLayer.data);\n","import { MAZE_WIDTH_IN_TILES, MAZE_HEIGHT_IN_TILES } from './MazeData';\nimport { Vector } from './Vector';\n\nexport type Coordinate = number;\n\nexport type TileCoordinate = Coordinate;\nexport type ScreenCoordinate = Coordinate;\n\nexport interface TileCoordinates {\n  x: TileCoordinate;\n  y: TileCoordinate;\n}\n\nexport interface ScreenCoordinates {\n  x: ScreenCoordinate;\n  y: ScreenCoordinate;\n}\n\nexport type Coordinates = TileCoordinates | ScreenCoordinates;\n\nexport interface TileRectangle {\n  tile1: TileCoordinates;\n  tile2: TileCoordinates;\n}\n\nexport const SCALE_FACTOR = 2.5;\nexport const SPRITE_TILE_SIZE = 8;\nexport const SCREEN_TILE_SIZE = SPRITE_TILE_SIZE * SCALE_FACTOR;\nexport const SCREEN_TILE_CENTER = SCREEN_TILE_SIZE / 2;\n\nexport const SCREEN_TILE_CENTER_VECTOR: Vector = {\n  x: SCREEN_TILE_CENTER,\n  y: SCREEN_TILE_CENTER,\n};\n\nexport const MAZE_WIDTH_IN_SCREEN_COORDINATES =\n  MAZE_WIDTH_IN_TILES * SCREEN_TILE_SIZE;\nexport const MAZE_HEIGHT_IN_SCREEN_COORDINATES =\n  MAZE_HEIGHT_IN_TILES * SCREEN_TILE_SIZE;\n\nexport const MAZE_DIMENSIONS_IN_TILES: TileCoordinates = {\n  x: MAZE_WIDTH_IN_TILES,\n  y: MAZE_HEIGHT_IN_TILES,\n};\n\nexport const isTxValid = (tx: TileCoordinate) =>\n  tx >= 0 && tx < MAZE_WIDTH_IN_TILES;\nexport const isTyValid = (ty: TileCoordinate) =>\n  ty >= 0 && ty < MAZE_HEIGHT_IN_TILES;\nexport const isValidTileCoordinates = (tile: TileCoordinates) =>\n  isTxValid(tile.x) && isTyValid(tile.y);\n\nexport const screenFromTileCoordinate = (\n  tileCoordinate: TileCoordinate\n): ScreenCoordinate => tileCoordinate * SCREEN_TILE_SIZE;\n\nexport const tileFromScreenCoordinate = (\n  screenCoordinate: ScreenCoordinate\n): TileCoordinate => Math.floor(screenCoordinate / SCREEN_TILE_SIZE);\n\nexport const screenFromTile = (tile: TileCoordinates): ScreenCoordinates => ({\n  x: screenFromTileCoordinate(tile.x),\n  y: screenFromTileCoordinate(tile.y),\n});\n\nexport const tileFromScreen = (screen: ScreenCoordinates): TileCoordinates => ({\n  x: tileFromScreenCoordinate(screen.x),\n  y: tileFromScreenCoordinate(screen.y),\n});\n\nexport const getPointDifferenceAsVector = (\n  from: Coordinates,\n  to: Coordinates\n): Vector => ({\n  x: to.x - from.x,\n  y: to.y - from.y,\n});\n\nexport const addCoordinatesAndVector = (\n  coordinates: Coordinates,\n  vector: Vector\n): ScreenCoordinates => ({\n  x: coordinates.x + vector.x,\n  y: coordinates.y + vector.y,\n});\n\nexport const rectangleContainsTile = (\n  tileRectangle: TileRectangle,\n  tile: TileCoordinates\n): boolean =>\n  tile.x >= tileRectangle.tile1.x &&\n  tile.x <= tileRectangle.tile2.x &&\n  tile.y >= tileRectangle.tile1.y &&\n  tile.y <= tileRectangle.tile2.y;\n\nexport const wrapTileToBounds = (\n  tile: TileCoordinates,\n  bounds: TileCoordinates\n): TileCoordinates => {\n  const wrappedX = (tile.x + bounds.x) % bounds.x;\n  const wrappedY = (tile.y + bounds.y) % bounds.y;\n  return { x: wrappedX, y: wrappedY };\n};\n","import React, { FC } from 'react';\nimport {\n  SCREEN_TILE_SIZE,\n  ScreenCoordinates,\n} from '../model/Coordinates';\n\nimport './Grid.css';\n\nconst ROWS = 28;\nconst COLUMNS = 25;\n\nexport const GridWithHoverCoordinates: FC<{\n  screenCoordinates: ScreenCoordinates;\n}> = ({ screenCoordinates }) => {\n  const { x, y } = screenCoordinates;\n  return (\n    <div className=\"Container\">\n      <Grid x={x} y={y} />\n    </div>\n  );\n};\n\nconst YAxis = () => (\n  <div className=\"Axis YAxis\">\n    {[...Array(ROWS + 1)].map((_, i) => (\n      <p className=\"AxisNumber YAxisNumber\" key={i}>{i - 14}</p>\n    ))}\n  </div>\n);\n\nconst XAxis = () => (\n  <div className=\"Axis XAxis\">\n    {[...Array(COLUMNS + 1)].map((_, i) => (\n      <p className=\"AxisNumber XAxisNumber\" key={i}>{i - 12}</p>\n    ))}\n  </div>\n);\n\nexport const Grid: FC<{\n  x: number;\n  y: number;\n}> = ({ x, y }) => {\n  return (\n    <div\n      className=\"Grid\"\n      style={{\n        left: `${x}px`,\n        top: `${y}px`,\n        gridTemplateColumns: `repeat(${COLUMNS}, ${SCREEN_TILE_SIZE}px)`,\n        gridTemplateRows: `repeat(${ROWS}, ${SCREEN_TILE_SIZE}PX)`,\n      }}\n    >\n      <YAxis />\n      <XAxis />\n      {Array(ROWS)\n        .fill(null)\n        .map((_, rowIndex) =>\n          Array.from({ length: COLUMNS }).map((_, columnIndex) => (\n            <div className=\"GridCell\" key={`${columnIndex}/${rowIndex}`} />\n          ))\n        )}\n    </div>\n  );\n};\n","import React, { FC, CSSProperties } from 'react';\nimport C from 'classnames';\nimport { SCALE_FACTOR } from '../model/Coordinates';\nimport './Sprite.css';\n\nconst scale = `scale(${SCALE_FACTOR})`;\n\nexport const Sprite: FC<{\n  name: string;\n  x?: number;\n  y?: number;\n  className?: string | null;\n  style?: CSSProperties;\n}> = ({ name: spriteName, x, y, className, style = {} }) => {\n  return (\n    <div\n      className={C('Sprite', 'Sprite-' + spriteName, className)}\n      style={{\n        position: 'absolute',\n        left: `${x}px`,\n        top: `${y}px`,\n        transform: scale,\n        transformOrigin: 'top let',\n        ...style,\n      }}\n    />\n  );\n};\n","import React, { FC } from 'react';\nimport { GridWithHoverCoordinates } from '../../components/Grid';\nimport { Sprite } from '../../components/Sprite';\n\nexport const MazeView: FC = () => (\n  <>\n    <Sprite className=\"Sprite-maze\" name=\"maze-state-empty\" x={0} y={0} />\n    <GridWithHoverCoordinates screenCoordinates={{ x: 0, y: 0 }} />\n  </>\n);\n","import { noop } from 'lodash';\nimport { createContext, useCallback, useState } from 'react';\nimport { Move } from '../GamePage/components/Moves/types';\nimport { isValidTileCoordinates, TileCoordinates } from '../model/Coordinates';\nimport { BASIC_PILL_ID, EMPTY_TILE_ID, ENERGIZER_ID, FRUIT_ID, getPillsMatrix, TileId, TileMatrix, waysMatrix } from '../model/MazeData';\n\n\nexport const useGameContext = () => {\n  const [paused, setPaused] = useState<boolean>(true);\n  const [gameOver, setGameOver] = useState<boolean>(false);\n  const [pills, setPills] = useState<TileMatrix>(getPillsMatrix());\n  const [score, setScore] = useState<number>(0);\n  const [moves, setMoves] = useState<Move[]>([]);\n\n  const pause = useCallback(() => setPaused(true), []);\n  const unpause = useCallback(() => setPaused(false), []);\n\n  const reset = useCallback(() => {\n    setPaused(true);\n    setPills(getPillsMatrix());\n    setScore(0);\n    setGameOver(false);\n  }, []);\n\n  const eatPill = useCallback((tileCoordinates: TileCoordinates) => {\n    setPills((prev) => {\n      if (\n        !isValidTileCoordinates(tileCoordinates) ||\n        !waysMatrix[tileCoordinates.y][tileCoordinates.x]\n      ) {\n        setGameOver(true);\n        return prev;\n      }\n      const pill: TileId = prev[tileCoordinates.y][tileCoordinates.x];\n      if (pill === EMPTY_TILE_ID) {\n        return prev;\n      }\n      let points = 0;\n      if (pill === BASIC_PILL_ID) {\n        points = 10;\n      } else if (pill === ENERGIZER_ID) {\n        points = 20;\n      } else {\n        const fruitId = pill - FRUIT_ID;\n        switch (fruitId) {\n          case 1:\n            points = 400;\n            break;\n          case 2:\n            points = 300;\n            break;\n          case 3:\n            points = 250;\n            break;\n          case 4:\n            points = 100;\n            break;\n          case 5:\n            points = 50;\n            break;\n          case 7:\n            points = 200;\n            break;\n        }\n      }\n      setScore((prev) => prev + points);\n      return prev.map(\n        (row, y) => y === tileCoordinates.y\n          ? row.map((col, x) => x === tileCoordinates.x ? EMPTY_TILE_ID : col)\n          : row\n      );\n    });\n  }, []);\n\n  return {\n    paused,\n    gameOver,\n    pills,\n    score,\n    moves,\n    eatPill,\n    pause,\n    unpause,\n    reset,\n    setMoves,\n    setGameOver,\n  };\n};\n\ntype GameContextType = ReturnType<typeof useGameContext>;\n\nconst defaultState: GameContextType = {\n  paused: true,\n  gameOver: false,\n  pills: [],\n  score: 0,\n  moves: [],\n  pause: noop,\n  unpause: noop,\n  reset: noop,\n  eatPill: noop,\n  setMoves: noop,\n  setGameOver: noop,\n}\n\nexport const GameContext = createContext<GameContextType>(defaultState);\n","import { FC, useEffect, useCallback, memo, useContext } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { easeCubicInOut, easeLinear } from 'd3-ease';\nimport { isNumber } from 'lodash';\nimport { GameContext } from '../../components/StoreContext';\nimport { ScreenCoordinates, screenFromTile, TileCoordinates, tileFromScreen } from '../../model/Coordinates';\nimport { PacMan } from './PacMan';\nimport { AxisOptions, DirectionOptions, MoveType } from './Moves/types';\n\nexport type PacManAnimationPhase = 0 | 1 | 2;\n\nexport const PacManAnimationPhases: PacManAnimationPhase[] = [0, 1, 2];\n\nconst directions = [DirectionOptions.LEFT, DirectionOptions.DOWN, DirectionOptions.RIGHT, DirectionOptions.UP];\n\nconst pacManScreenFromTile = (tileCoordinates: TileCoordinates) => {\n  const screenCoordinates = screenFromTile(tileCoordinates);\n  return {\n    x: screenCoordinates.x - 4,\n    y: screenCoordinates.y - 4,\n  };\n};\n\nconst pacManTileFromScreen = (screenCoordinates: ScreenCoordinates) => (\n  tileFromScreen({\n    x: screenCoordinates.x + 4,\n    y: screenCoordinates.y + 4,\n  })\n);\n\nconst getXTile = (x: number) => x + 13;\nconst getYTile = (y: number) => (y * -1) + 15;\n\nconst STARTING_COORDINATES = pacManScreenFromTile({ x: 14, y: 23 });\nconst defaults = {\n  rotateY: 0,\n  rotateX: 0,\n  rotateZ: 0,\n  ...STARTING_COORDINATES,\n};\n\nexport const PacManView: FC = memo(() => {\n  const { eatPill, moves, paused, gameOver, setGameOver } = useContext(GameContext);\n\n  const onRest = useCallback(({ value }) => {\n    // Upside-down\n    if ((value.rotateX + value.rotateZ) % 360 === 180) {\n      setGameOver(true);\n      return;\n    }\n    eatPill(pacManTileFromScreen(value));\n  }, [eatPill, setGameOver]);\n\n  const [{ x, y, ...styles }, api] = useSpring(() => ({\n    from: defaults,\n    onRest,\n  }));\n\n  useEffect(() => {\n    if (paused) {\n      api.stop();\n      api.start({\n        to: defaults,\n        config: {\n          duration: 0,\n        },\n      });\n    }\n  }, [paused, api]);\n\n  useEffect(() => {\n    if (gameOver) {\n      api.stop();\n    }\n  }, [api.stop, gameOver]);\n\n  useEffect(() => {\n    if (!paused) {\n      let rotateX = 0;\n      let rotateY = 0;\n      let rotateZ = 0;\n      let x = 14;\n      let y = 23;\n      let direction = DirectionOptions.LEFT;\n      api.start({\n        to: async (next) => {\n          for (let i = 0; i < moves.length; i++) {\n            const move = moves[i];\n            if (move.type === MoveType.TRANSLATION) {\n              if (move.direction && isNumber(move.n)) {\n                if (direction !== move.direction) {\n                  setGameOver(true);\n                } else {\n                  const coords = [];\n                  for (let n = 0; n < move.n; n++) {\n                    if (move.direction === DirectionOptions.UP) {\n                      y = y - 1;\n                    } else if (move.direction === DirectionOptions.DOWN) {\n                      y = y + 1;\n                    } else if (move.direction === DirectionOptions.RIGHT) {\n                      x = x + 1;\n                    } else {\n                      x = x - 1;\n                    }\n                    coords.push(pacManScreenFromTile({ x, y }));\n                  }\n                  await next({\n                      to: coords,\n                      config: {\n                        duration: 300,\n                        easing: easeLinear,\n                      },\n                  });\n                }\n              } else {\n                setGameOver(true);\n              }\n            } else if (move.type === MoveType.ROTATION) {\n              const degrees = Number(move.degrees);\n              if ([degrees, move.x, move.y].every(isNumber)) {\n                if (x !== getXTile(move.x!) || y !== getYTile(move.y!)) {\n                  setGameOver(true);\n                }\n                rotateZ = rotateZ + degrees * (((rotateX + rotateY) % 360) ? 1 : -1);\n                switch (degrees) {\n                  case -90:\n                  case 270:\n                    direction = directions[(directions.indexOf(direction) + 3) % 4];\n                    break;\n                  case -180:\n                  case 180:\n                    direction = directions[(directions.indexOf(direction) + 2) % 4];\n                    break;\n                  case -270:\n                  case 90:\n                    direction = directions[(directions.indexOf(direction) + 1) % 4];\n                    break;\n                }\n                await next({\n                  to: {\n                    rotateZ,\n                  },\n                  config: {\n                    duration: Math.min((Math.abs(degrees) / 90) * 500, 1000),\n                    easing: easeCubicInOut,\n                  },\n                });\n              } else {\n                setGameOver(true);\n              }\n            } else if (move.type === MoveType.REFLECTION) {\n              if (move.axis && isNumber(move.n)) {\n                if (move.axis === AxisOptions.Y) {\n                  if (getYTile(move.n) !== y) {\n                    setGameOver(true);\n                  }\n                  if (direction === DirectionOptions.UP || direction === DirectionOptions.DOWN) {\n                    direction = direction === DirectionOptions.UP ? DirectionOptions.DOWN : DirectionOptions.UP;\n                  }\n                  rotateX = (rotateX + 180) % 360;\n                } else {\n                  if (getXTile(move.n) !== x) {\n                    setGameOver(true);\n                  }\n                  if (direction === DirectionOptions.LEFT || direction === DirectionOptions.RIGHT) {\n                    direction = direction === DirectionOptions.LEFT ? DirectionOptions.RIGHT : DirectionOptions.LEFT;\n                  }\n                  rotateY = (rotateY + 180) % 360\n                }\n                await next({\n                  to: {\n                    rotateX,\n                    rotateY,\n                  },\n                    config: {\n                      duration: 300,\n                      easing: easeCubicInOut,\n                    },\n                });\n              } else {\n                setGameOver(true);\n              }\n            }\n          }\n        },\n      });\n    }\n  }, [api, moves, paused, setGameOver]);\n\n  return (\n    <AnimatedPacMan\n      x={x}\n      y={y}\n      style={styles}\n    />\n  );\n});\n\nconst AnimatedPacMan = animated(PacMan);\n","import { CSSProperties, FC } from 'react';\nimport pacman from '../../resources/pacman.gif';\nimport './PacMan.css';\n\nexport const PacMan: FC<{\n  x: number;\n  y: number;\n  style?: CSSProperties;\n}> = ({ x, y, style }) => (\n  <img\n    src={pacman}\n    className=\"PacMan\"\n    style={{ left: x, top: y, ...style }} />\n);","export default \"data:image/gif;base64,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\"","import { FC, memo, useContext } from 'react';\nimport { Sprite } from '../../components/Sprite';\nimport {\n  addCoordinatesAndVector,\n  ScreenCoordinates,\n  screenFromTile,\n  SCREEN_TILE_CENTER_VECTOR,\n  TileCoordinate,\n} from '../../model/Coordinates';\nimport {\n  BASIC_PILL_ID,\n  ENERGIZER_ID,\n  FRUIT_ID,\n  MAZE_HEIGHT_IN_TILES,\n  MAZE_WIDTH_IN_TILES,\n  EMPTY_TILE_ID,\n  TileId,\n} from '../../model/MazeData';\nimport { GameContext } from '../../components/StoreContext';\n\nconst Pill: FC<{ position: ScreenCoordinates }> = ({ position }) => (\n  <Sprite x={position.x - 10} y={position.y - 10} name=\"basic-pill\" />\n);\n\nconst Energizer: FC<{ position: ScreenCoordinates }> = ({ position }) => (\n  <Sprite x={position.x - 10} y={position.y - 10} name=\"energizer\" />\n);\n\nconst Fruit: FC<{ id: number, position: ScreenCoordinates }> = ({ id, position }) => (\n  <Sprite x={position.x - 14} y={position.y - 14} style={{ transform: 'scale(1.75)' }} name={`fruit-${id}`} />\n);\n\nconst PillView = memo<{ x: TileCoordinate, y: TileCoordinate, tileId: TileId }>(\n  ({ x, y, tileId }) => {\n    if (tileId === BASIC_PILL_ID) {\n      return (\n        <Pill\n          position={addCoordinatesAndVector(\n            screenFromTile({ x, y }),\n            SCREEN_TILE_CENTER_VECTOR\n          )}\n        />\n      );\n    }\n    if (tileId === ENERGIZER_ID) {\n      return (\n        <Energizer\n          position={addCoordinatesAndVector(\n            screenFromTile({ x, y }),\n            SCREEN_TILE_CENTER_VECTOR\n          )}\n        />\n      );\n    }\n    if (tileId > FRUIT_ID) {\n      return (\n        <Fruit\n          id={tileId - FRUIT_ID}\n          position={addCoordinatesAndVector(\n            screenFromTile({ x, y }),\n            SCREEN_TILE_CENTER_VECTOR\n          )}\n        />\n      );\n    }\n    return null;\n  }\n);\n\n// Performance tricks used here:\n// Make each PillView an observer, so that we don't have to rerender PillsView.\n// Make PillsView a React.memo to prevent any rerenders.\n// Also: Create PillView only for those coordinates where there is a pill on first render.\nexport const PillsView: FC = memo(() => {\n  const { pills } = useContext(GameContext);\n\n  return (\n    <>\n      {Array.from({ length: MAZE_HEIGHT_IN_TILES }).map((_, y) =>\n        Array.from({ length: MAZE_WIDTH_IN_TILES }).map((_, x) => {\n          const pill = pills[y][x];\n          return pill !== EMPTY_TILE_ID &&\n            <PillView key={`${x}/${y}`} tileId={pill} x={x} y={y} />;\n        })\n      )}\n    </>\n  );\n});\n","import { memo, useContext } from 'react';\nimport { GameContext } from '../../components/StoreContext';\nimport './Score.css';\n\nexport const Score = memo(() => {\n  const { score } = useContext(GameContext);\n\n  return (\n    <div className=\"Score\">\n      <span>Score</span>\n      <span>{score}</span>\n    </div>\n  );\n});\n","import React, { ChangeEventHandler, memo, useCallback, useMemo } from 'react';\nimport getShortId from 'shortid';\nimport { DirectionOptions, MoveType, TranslationMove } from './types';\nimport { FormControl, InputLabel, Select, MenuItem, SelectChangeEvent, TextField } from '@mui/material';\nimport './Moves.css';\nimport { isUndefined } from 'lodash';\n\ninterface Props {\n  disabled: boolean;\n  move: TranslationMove;\n  onChange(move: Omit<TranslationMove, 'key'>): void;\n}\n\nexport const TranslationForm = memo<Props>(({\n  onChange,\n  move,\n  disabled,\n}) => {\n  const labelId = useMemo(getShortId, []);\n\n  const onDirectionChange = useCallback((e: SelectChangeEvent) => {\n    onChange({\n      type: MoveType.TRANSLATION,\n      direction: e.target.value as DirectionOptions,\n    });\n  }, [onChange]);\n\n  const onStepsChange = useCallback<ChangeEventHandler<HTMLInputElement>>((e) => {\n    onChange({\n      type: MoveType.TRANSLATION,\n      direction: move.direction,\n      n: e.target.value === '' ? undefined : Number(e.target.value),\n    });\n  }, [move.direction]);\n\n  return (\n    <>\n      <FormControl className=\"DirectionCell\">\n        <InputLabel id={labelId}>Direction</InputLabel>\n        <Select\n          labelId={labelId}\n          disabled={disabled}\n          onChange={onDirectionChange}\n          value={move.direction || ''}\n          label=\"Direction\">\n          {Object.values(DirectionOptions).map((t) =>\n            <MenuItem key={t} value={t}>{t}</MenuItem>\n          )}\n        </Select>\n      </FormControl>\n      <TextField\n        label=\"Steps\"\n        type=\"number\"\n        onChange={onStepsChange}\n        value={isUndefined(move.n) ? '' : move.n}\n        disabled={disabled}\n        InputProps={{\n          inputProps: {\n            max: 29,\n            min: -29,\n            step: 1,\n          },\n        }}\n      />\n    </>\n  );\n});\n","import React, { ChangeEventHandler, memo, useCallback, useMemo } from 'react';\nimport getShortId from 'shortid';\nimport { isUndefined } from 'lodash';\nimport { AxisOptions, MoveType, ReflectionMove } from './types';\nimport { FormControl, InputLabel, Select, MenuItem, SelectChangeEvent, TextField } from '@mui/material';\nimport './Moves.css';\n\ninterface Props {\n  disabled: boolean;\n  move: ReflectionMove;\n  onChange(move: Omit<ReflectionMove, 'key'>): void;\n}\n\nexport const ReflectionForm = memo<Props>(({\n  onChange,\n  move,\n  disabled,\n}) => {\n  const labelId = useMemo(getShortId, []);\n\n  const onAxisChange = useCallback((e: SelectChangeEvent) => {\n    onChange({\n      type: MoveType.REFLECTION,\n      axis: e.target.value as AxisOptions,\n    });\n  }, [onChange]);\n\n  const onNChange = useCallback<ChangeEventHandler<HTMLInputElement>>((e) => {\n    onChange({\n      type: MoveType.REFLECTION,\n      axis: move.axis,\n      n: e.target.value === '' ? undefined : Math.round(Number(e.target.value)),\n    });\n  }, [move.axis]);\n\n  return (\n    <>\n     <FormControl className=\"AxisCell\">\n       <InputLabel id={labelId}>Axis</InputLabel>\n       <Select\n         labelId={labelId}\n         disabled={disabled}\n         onChange={onAxisChange}\n         value={move.axis || ''}\n         label=\"Axis\">\n         {Object.values(AxisOptions).map((t) =>\n           <MenuItem key={t} value={t}>{t}</MenuItem>\n         )}\n       </Select>\n     </FormControl>\n     <p>\n       =\n     </p>\n     <TextField\n       type=\"number\"\n       onChange={onNChange}\n       value={isUndefined(move.n) ? '' : move.n}\n       disabled={disabled || !move.axis}\n       InputProps={{\n         inputProps: {\n           min: move.axis === AxisOptions.X ? -12 : -14,\n           max: move.axis === AxisOptions.X ? 13 : 14,\n           step: 1,\n         },\n       }}\n     />\n   </>\n  );\n});\n","import React, { ChangeEventHandler, memo, useCallback, useMemo } from 'react';\nimport getShortId from 'shortid';\nimport { isUndefined } from 'lodash';\nimport { DegreeOptions, MoveType, RotationMove } from './types';\nimport { FormControl, InputLabel, Select, MenuItem, SelectChangeEvent, TextField } from '@mui/material';\nimport './Moves.css';\n\ninterface Props {\n  disabled: boolean;\n  move: RotationMove;\n  onChange(move: Omit<RotationMove, 'key'>): void;\n}\n\nexport const RotationForm = memo<Props>(({\n  onChange,\n  move,\n  disabled,\n}) => {\n  const labelId = useMemo(getShortId, []);\n\n  const onDegreesChange = useCallback((e: SelectChangeEvent) => {\n    onChange({\n      type: MoveType.ROTATION,\n      degrees: e.target.value as DegreeOptions,\n      x: move.x,\n      y: move.y,\n    });\n  }, [onChange, move.x, move.y]);\n\n  const onXChange = useCallback<ChangeEventHandler<HTMLInputElement>>((e) => {\n    onChange({\n      type: MoveType.ROTATION,\n      degrees: move.degrees,\n      y: move.y,\n      x: e.target.value === '' ? undefined : Math.round(Number(e.target.value)),\n    });\n  }, [onChange, move.degrees, move.y]);\n\n  const onYChange = useCallback<ChangeEventHandler<HTMLInputElement>>((e) => {\n    onChange({\n      type: MoveType.ROTATION,\n      degrees: move.degrees,\n      x: move.x,\n      y: e.target.value === '' ? undefined : Math.round(Number(e.target.value)),\n    });\n  }, [onChange, move.degrees, move.x]);\n\n  return (\n    <>\n      <FormControl className=\"DegreesCell\">\n        <InputLabel id={labelId}>Degrees</InputLabel>\n        <Select\n          labelId={labelId}\n          disabled={disabled}\n          onChange={onDegreesChange}\n          value={move.degrees || ''}\n          displayEmpty\n          label=\"Degrees\">\n          {Object.values(DegreeOptions).map((t) =>\n            <MenuItem key={t} value={t}>{t}</MenuItem>\n          )}\n        </Select>\n      </FormControl>\n      <TextField\n        label=\"X\"\n        type=\"number\"\n        onChange={onXChange}\n        value={isUndefined(move.x) ? '' : move.x}\n        disabled={disabled}\n        InputProps={{\n          inputProps: {\n            min: -12,\n            max: 13,\n            step: 1,\n          },\n        }}\n      />\n      <TextField\n        label=\"Y\"\n        type=\"number\"\n        onChange={onYChange}\n        value={isUndefined(move.y) ? '' : move.y}\n        disabled={disabled}\n        InputProps={{\n          inputProps: {\n            min: -14,\n            max: 14,\n            step: 1,\n          },\n        }}\n     />\n    </>\n  );\n});\n","import React, { FC, useCallback, useMemo } from 'react';\nimport getShortId from 'shortid';\nimport { Move, MoveType } from './types';\nimport { FormControl, InputLabel, Select, MenuItem, SelectChangeEvent, IconButton } from '@mui/material';\nimport { AddCircle, RemoveCircle } from '@mui/icons-material';\nimport './Moves.css';\nimport { TranslationForm } from './TranslationForm';\nimport { ReflectionForm } from './ReflectionForm';\nimport { RotationForm } from './RotationForm';\n\ninterface Props {\n  disabled: boolean;\n  move: Move;\n  onChange(ind: number, move: Omit<Move, 'key'>): void;\n  onRemove(ind: number): void;\n  onAdd?(ind: number): void;\n  ind: number;\n}\n\nexport const MovesForm: FC<Props> = ({\n  disabled,\n  move,\n  onChange: handleOnChange,\n  onRemove: handleOnRemove,\n  onAdd: handleOnAdd,\n  ind,\n}: Props) => {\n  const labelId = useMemo(() => [getShortId(), getShortId(), getShortId()], []);\n\n  const onChange = useCallback((move: Omit<Move, 'key'>) => handleOnChange(ind, move), [ind, handleOnChange]);\n\n  const onTypeChange = useCallback((e: SelectChangeEvent) => {\n    onChange({\n      type: e.target.value as MoveType,\n    });\n  }, [onChange, ind]);\n\n  const onRemove = useCallback(() => handleOnRemove(ind), [ind, handleOnRemove]);\n  const onAdd = useCallback(() => handleOnAdd && handleOnAdd(ind), [ind, handleOnAdd]);\n\n  return (\n    <div className=\"MoveForm\">\n      <FormControl className=\"TypeCell\">\n        <InputLabel id={labelId[0]}>Type</InputLabel>\n        <Select\n          labelId={labelId[0]}\n          disabled={disabled}\n          onChange={onTypeChange}\n          value={move.type || ''}\n          label=\"Type\">\n          {Object.values(MoveType).map((t) =>\n            <MenuItem key={t} value={t}>{t}</MenuItem>\n          )}\n        </Select>\n      </FormControl>\n      {move.type === MoveType.TRANSLATION && (\n        <TranslationForm\n          onChange={onChange}\n          move={move}\n          disabled={disabled}\n        />\n      )}\n      {move.type === MoveType.REFLECTION && (\n        <ReflectionForm\n          onChange={onChange}\n          move={move}\n          disabled={disabled}\n        />\n      )}\n      {move.type === MoveType.ROTATION && (\n        <RotationForm\n          onChange={onChange}\n          move={move}\n          disabled={disabled}\n        />\n      )}\n      <IconButton\n        color=\"error\"\n        disabled={disabled}\n        className=\"IconButton\"\n        onClick={onRemove}>\n        <RemoveCircle />\n      </IconButton>\n      {handleOnAdd && (\n        <IconButton\n          color=\"success\"\n          disabled={disabled}\n          className=\"IconButton AddButton\"\n          onClick={onAdd}>\n          <AddCircle />\n        </IconButton>\n      )}\n    </div>\n  );\n};\n","import React, { memo, useCallback, useContext, useMemo, useState } from 'react';\nimport { Button } from '@mui/material';\nimport { Add } from '@mui/icons-material';\nimport getShortId from 'shortid';\n\nimport { Move } from './types';\nimport { MovesForm } from './MoveForm';\nimport { GameContext } from '../../../components/StoreContext';\n\nimport './Moves.css';\n\nexport const MovesView = memo(() => {\n  const [moves, setMovesState] = useState<Move[]>([]);\n\n  const { unpause, setMoves, paused } = useContext(GameContext);\n\n  const onChange = useCallback((ind: number, info: Omit<Move, 'key'>) => {\n    setMovesState(prev => [\n      ...prev.slice(0, ind),\n      {\n        ...info,\n        key: prev[ind].key,\n      },\n      ...prev.slice(ind + 1),\n    ]);\n  }, []);\n\n  const onRemove = useCallback((ind: number) => {\n    setMovesState(prev => [\n      ...prev.slice(0, ind),\n      ...prev.slice(ind + 1),\n    ]);\n  }, []);\n\n  const onAdd = useCallback((ind: number) => {\n    setMovesState(prev => [\n      ...prev.slice(0, ind + 1),\n      {\n        key: getShortId(),\n      },\n      ...prev.slice(ind + 1)\n    ]);\n  }, []);\n\n  const addMove = useCallback(() => {\n    setMovesState(prev => [\n      ...prev,\n      {\n        key: getShortId(),\n      },\n    ]);\n  }, []);\n\n  const go = useCallback(() => {\n    setMoves(moves);\n    unpause();\n  }, [unpause, setMoves, moves]);\n\n  return (\n    <div className=\"MovesView\">\n      {moves.map((move, i) => (\n        <MovesForm\n          key={move.key}\n          disabled={!paused}\n          move={move}\n          onChange={onChange}\n          onRemove={onRemove}\n          onAdd={i !== moves.length - 1 ? onAdd : undefined}\n          ind={i}\n        />\n      ))}\n      <div className=\"Controls\">\n        <Button\n          startIcon={<Add />}\n          variant=\"outlined\"\n          disabled={!paused || moves.length >= 20}\n          onClick={addMove}>\n          Add Move\n        </Button>\n        <Button variant=\"contained\" disabled={!paused} onClick={go}>Go</Button>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useCallback, useContext, useState } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@mui/material';\nimport { Replay } from '@mui/icons-material';\n\nimport { GameContext } from '../../components/StoreContext';\n\nimport './GameControls.css';\n\nexport const GameControls = memo(() => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = useCallback(() => setOpen(true), []);\n  const handleClose = useCallback(() => setOpen(false), []);\n\n  const { reset, paused } = useContext(GameContext);\n\n  return (\n    <div className=\"GameControls\">\n      <Button variant=\"outlined\" onClick={handleOpen}>\n        Instructions\n      </Button>\n      <Button\n        startIcon={<Replay />}\n        disabled={paused}\n        onClick={reset}\n        variant=\"contained\">\n        Retry\n      </Button>\n      <Dialog open={open} onClose={handleClose}>\n        <DialogTitle>Instructions</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            In this game of Ms. Pac-Man, your task is to move her using translations,\n            rotations, and reflections. Remember that Ms. Pacman has to be facing\n            the direction she is moving, and she always has to be right side up.\n            Lets see if you can get the high score!\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Close</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n});\n","import React, { memo, useContext } from 'react';\nimport { Board } from '../components/Board';\nimport { GameOver } from './components/GameOver';\nimport { MazeView } from './components/MazeView';\nimport { PacManView } from './components/PacManView';\nimport { PillsView } from './components/PillsView';\nimport { Score } from './components/Score';\nimport { GameContext } from '../components/StoreContext';\nimport './GamePage.css';\nimport { MovesView } from './components/Moves/MovesView';\nimport { GameControls } from './components/GameControls';\n\nexport const GamePage: React.FC = memo(() => {\n  const { gameOver } = useContext(GameContext);\n\n  return (\n    <div className=\"MainContainer\">\n      <div className=\"RowContainer\">\n        <div className=\"ColumnContainer\">\n          <Score />\n          <Board>\n            <MazeView />\n            <PillsView />\n            <PacManView />\n            {gameOver && <GameOver />}\n          </Board>\n          <GameControls />\n        </div>\n        <div className=\"ColumnContainer\">\n          <MovesView />\n        </div>\n      </div>\n    </div>\n  );\n});\n","import { FC } from 'react';\nimport { ThemeProvider, createTheme } from '@mui/material';\n\nimport './GlobalStyles.css';\nimport { GamePage } from './GamePage/GamePage';\nimport { GameContext, useGameContext } from './components/StoreContext';\n\nconst theme = createTheme({\n  \n  typography: {\n    fontFamily: 'Joystix',\n  },\n  palette: {\n    mode: 'dark',\n  }\n});\n\nconst App: FC = () => {\n  return (\n    <ThemeProvider theme={theme}>\n      <GameContext.Provider value={useGameContext()}>\n        <GamePage />\n      </GameContext.Provider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}